<!DOCTYPE html>
<html>
  <title>Random Number Generator</title>
  <head>
    <style>
      html, body {
        background:#ffffff;
        overflow:hidden;
      }
      .submitFloor {
        position:absolute;
        height:21px;
        width:65px;
        margin-left:10px;
        background:conic-gradient(red 0deg, orange 60deg, yellow 120deg, green 180deg, blue 240deg, purple 300deg, red 360deg);
      }
      .submitCeiling {
        position:absolute;
        height:21px;
        width:65px;
        margin-left:205px;
        background:conic-gradient(red 0deg, purple 60deg, blue 120deg, green 180deg, yellow 240deg, orange 300deg, red 360deg);
      }
      .go {
        height:30px;
        width:40px;
        position:absolute;
        margin-top:50px;
      }
      .switch {
        position: relative;
        display: inline-block;
        width: 60px; /* Adjust width as needed */
        height: 34px; /* Adjust height as needed */
      }
      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #bbb;
        transition: .4s; /* Smooth transition for color change */
        border-radius: 34px; /* Makes the track rounded */
      }
      .slider:before {
        position: absolute;
        content: "";
        height: 26px; /* Slightly smaller than height of .switch */
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s; /* Smooth transition for movement */
        border-radius: 50%; /* Makes the knob a circle */
      }
      input:checked + .slider {
        background-color: #32CD32; /* Blue when checked */
      }
      
      input:checked + .slider:before {
        transform: translateX(26px); /* Moves the knob to the right */
      }

    </style>
  </head>
  <body>
    <script>
       function isMobile() {
    // Prefer userAgentData (if available) but fall back to userAgent sniffing
    const nav = navigator;
    if (nav.userAgentData && Array.isArray(nav.userAgentData.brands || nav.userAgentData.mobile !== undefined)) {
      // userAgentData has a mobile boolean
      if (typeof nav.userAgentData.mobile === 'boolean') return nav.userAgentData.mobile;
    }
    // fallback: common mobile UA tokens
    return /Mobi|Android|iPhone|iPad|iPod|Phone/i.test(navigator.userAgent);
  }

  const useMobile = isMobile();
  const root = document.getElementById('root');
      
      let bottomArea = document.getElementById('floor')
      let topArea = document.getElementById('ceiling')
      let submit = function(type) {
        console.log(parseInt(bottomArea.value))
        console.log(parseInt(topArea.value))
        bottom = parseInt(bottomArea.value)
        top = parseInt(topArea.value)
        if(type === 'floor') {
          let floor = parseInt(bottom);
        }
        else if(type === 'ceiling') {
          let ceiling = parseInt(top);
        }
      }
      let roll = function() {
        if(topArea.value === '') {
          document.getElementById('div1').textContent = "Enter a top number please";
          return
        }
        if(bottomArea.value === '') {
          document.getElementById('div1').textContent = "Enter a bottom number please";
          return
        }
        if (document.getElementById('decimal').checked === false) {
          animation('no');
          setTimeout(()=> {
            let answer = Math.floor(Math.random() * (parseInt(topArea.value) - parseInt(bottomArea.value) + 1)) + parseInt(bottomArea.value);
            document.getElementById('div1').textContent = answer;
            document.getElementById('div1').style.display = 'block'
            return answer;
          },1000);
        }
        if (document.getElementById('decimal').checked === true) {
          animation('decimal');
          setTimeout(()=> {
            let answer = Math.random() * (parseInt(topArea.value) - parseInt(bottomArea.value) + 1) + parseInt(bottomArea.value);
            document.getElementById('div1').textContent = answer;
            document.getElementById('div1').style.display = 'block'
            return answer;
          },1000);
        }
      }
      let animation = function(type) {
        if (type === 'decimal') {
          for(let i = 0; i < 10; i ++) {
              setTimeout(()=> {
              document.getElementById('div1').textContent = Math.random() * (parseInt(topArea.value) - parseInt(bottomArea.value) + 1) + parseInt(bottomArea.value);
            },100 * i);
          }
        }
        else {
          for(let i = 0; i < 10; i ++) {
              setTimeout(()=> {
              document.getElementById('div1').textContent = Math.floor(Math.random() * (parseInt(topArea.value) - parseInt(bottomArea.value) + 1)) + parseInt(bottomArea.value);
            },100 * i);
          }
      }
      }

       if (useMobile) renderMobile(); else renderPC();

      let renderPC = function() {
        const elPC = document.createElement('div')
        elPC.innerHTML = `
          <textarea style="height:16px;width:170px;resize:none;" placeholder="bottom number?" id="floor" textwrap="none"></textarea>
          <textarea style="height:16px;width:170px;resize:none;position:absolute;margin-left:75px;" placeholder="top number?" id="ceiling" textwrap="none"></textarea>
          <!--<button class="submitFloor" id="submitFloor" onclick="submit('floor')"><strong>Submit</strong></button>
          <button class="submitCeiling" id="submitCeiling" onclick="submit('ceiling')"><strong>Submit</strong></button>-->
          <div style="color: #00cffa;" id="div1">RESULT</div>
          <div style="color: #00cffa; display:none; margin-left: 100px; margin-top:200px; position:absolute; font-size:200px;" id="div1">RESULT</div>
          <button class="go" id="go" onclick="roll()"><strong>GO!</strong></button>
          <label class="switch">
            <input type="checkbox" id="decimal">
             <span class="slider"></span>
          </label>
        `;
        document.body.appendChild(elPC);
      }

      let renderMobile = function() {
        const elMobile = document.createElement('div')
        elMobile.innerHTML = `
          <textarea style="height:16px;width:170px;resize:none;" placeholder="bottom number?" id="floor" textwrap="none"></textarea>
          <textarea style="height:16px;width:170px;resize:none;position:absolute;margin-left:75px;" placeholder="top number?" id="ceiling" textwrap="none"></textarea>
          <!--<button class="submitFloor" id="submitFloor" onclick="submit('floor')"><strong>Submit</strong></button>
          <button class="submitCeiling" id="submitCeiling" onclick="submit('ceiling')"><strong>Submit</strong></button>-->
          <div style="color: red" id="div1">RESULT</div>
          <div style="color: #00cffa; display:none; margin-left: 100px; margin-top:200px; position:absolute; font-size:200px;" id="div1">RESULT</div>
          <button class="go" id="go" onclick="roll()"><strong>GO!</strong></button>
          <label class="switch">
            <input type="checkbox" id="decimal">
             <span class="slider"></span>
          </label>
        `;
        document.body.appendChild(elMobile);
      }
    </script>
  </body>
</html>
